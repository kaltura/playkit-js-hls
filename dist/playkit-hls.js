!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@playkit-js/playkit-js"),require("hls.js")):"function"==typeof define&&define.amd?define(["playkit-js","hls.js"],t):"object"==typeof exports?exports.hls=t(require("@playkit-js/playkit-js"),require("hls.js")):(e.playkit=e.playkit||{},e.playkit.hls=t(e.playkit.core,e.Hls))}(this,function(e,t){return function(e){function t(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=void 0;var a=r(0),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default,t.VERSION="1.10.2",t.NAME="@playkit-js/playkit-js-hls",o.default.isSupported()&&(0,a.registerMediaSourceAdapter)(o.default)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function e(t,r,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in i)return i.value;var n=i.get;if(void 0!==n)return n.call(a)},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),c=r(1),d=a(c),u=r(4),h=a(u),_=r(5),f=r(0),E=r(6),v=a(E),p=function(e){function t(e,r,a){i(this,t),t._logger.debug("Creating adapter. Hls version: "+d.default.version);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,a));return n._triedReloadWithRedirect=!1,n._startTime=0,n._config=f.Utils.Object.mergeDeep({},h.default,n._config),n._config.forceRedirectExternalStreams&&(n._config.hlsConfig.pLoader=v.default),n._hls=new d.default(n._config.hlsConfig),n._capabilities.fpsControl=!0,n._hls.subtitleDisplay=n._config.subtitleDisplay,n._addBindings(),n}return n(t,e),l(t,null,[{key:"createAdapter",value:function(e,t,r){var a=f.Utils.Object.copyDeep(h.default);if(f.Utils.Object.hasPropertyPath(r,"sources.options")){var i=r.sources.options;a.forceRedirectExternalStreams=i.forceRedirectExternalStreams,a.redirectExternalStreamsHandler=i.redirectExternalStreamsHandler,a.redirectExternalStreamsTimeout=i.redirectExternalStreamsTimeout,v.default.redirectExternalStreamsHandler=a.redirectExternalStreamsHandler,v.default.redirectExternalStreamsTimeout=a.redirectExternalStreamsTimeout}if(f.Utils.Object.hasPropertyPath(r,"playback.startTime")){f.Utils.Object.getPropertyPath(r,"playback.startTime")>-1&&(a.hlsConfig.startPosition=r.playback.startTime)}if(f.Utils.Object.hasPropertyPath(r,"playback.useNativeTextTrack")&&(a.subtitleDisplay=f.Utils.Object.getPropertyPath(r,"playback.useNativeTextTrack")),f.Utils.Object.hasPropertyPath(r,"abr.fpsDroppedFramesInterval")&&(a.hlsConfig.fpsDroppedFramesInterval=r.abr.fpsDroppedFramesInterval),f.Utils.Object.hasPropertyPath(r,"abr.fpsDroppedMonitoringThreshold")&&(a.hlsConfig.fpsDroppedMonitoringThreshold=r.abr.fpsDroppedMonitoringThreshold),f.Utils.Object.hasPropertyPath(r,"abr.capLevelOnFPSDrop")&&(a.hlsConfig.capLevelOnFPSDrop=r.abr.capLevelOnFPSDrop),a.hlsConfig.enableCEA708Captions=r.playback.enableCEA708Captions,a.hlsConfig.captionsTextTrack1Label=r.playback.captionsTextTrack1Label,a.hlsConfig.captionsTextTrack1LanguageCode=r.playback.captionsTextTrack1LanguageCode,a.hlsConfig.captionsTextTrack2Label=r.playback.captionsTextTrack2Label,a.hlsConfig.captionsTextTrack2LanguageCode=r.playback.captionsTextTrack2LanguageCode,f.Utils.Object.hasPropertyPath(r,"abr")){var o=r.abr;"boolean"==typeof o.enabled&&(a.abr.enabled=o.enabled),"boolean"==typeof o.capLevelToPlayerSize&&(a.hlsConfig.capLevelToPlayerSize=o.capLevelToPlayerSize),o.defaultBandwidthEstimate&&(a.hlsConfig.abrEwmaDefaultEstimate=o.defaultBandwidthEstimate),o.restrictions.minBitrate>0&&(a.hlsConfig.minAutoBitrate=o.restrictions.minBitrate),o.restrictions.maxBitrate<1/0&&(a.hlsConfig.capLevelToPlayerSize=!1,a.abr.restrictions=o.restrictions)}return f.Utils.Object.hasPropertyPath(r,"playback.options.html5.hls")&&f.Utils.Object.mergeDeep(a.hlsConfig,r.playback.options.html5.hls),new this(e,t,a)}},{key:"canPlayType",value:function(e){var r="string"==typeof e&&t._hlsMimeTypes.includes(e.toLowerCase());return t._logger.debug("canPlayType result for mimeType:"+e+" is "+r.toString()),r}},{key:"canPlayDrm",value:function(){return t._logger.warn("canPlayDrm result is false"),!1}},{key:"isSupported",value:function(){var e=d.default.isSupported();return t._logger.debug("isSupported:"+e),e}}]),l(t,[{key:"_addBindings",value:function(){var e=this;this._hls.on(d.default.Events.ERROR,function(t,r){return e._onError(r)}),this._hls.on(d.default.Events.MANIFEST_LOADED,this._onManifestLoaded.bind(this)),this._hls.on(d.default.Events.LEVEL_SWITCHED,this._onLevelSwitched.bind(this)),this._hls.on(d.default.Events.AUDIO_TRACK_SWITCHED,this._onAudioTrackSwitched.bind(this)),this._hls.on(d.default.Events.FPS_DROP,function(t,r){return e._onFpsDrop(r)}),this._onRecoveredCallback=function(){return e._onRecovered()},this._onAddTrack=this._onAddTrack.bind(this),this._videoElement.addEventListener("addtrack",this._onAddTrack),this._videoElement.textTracks.onaddtrack=this._onAddTrack}},{key:"_onFpsDrop",value:function(e){this._trigger(f.EventType.FPS_DROP,e)}},{key:"_onAddTrack",value:function(e){if(!this._hls.subtitleTracks.length){var r=this._parseCEATextTrack(e.track);r&&(t._logger.debug("A CEA 608/708 caption has found",r),this._playerTracks.push(r),this._trigger(f.EventType.TRACKS_CHANGED,{tracks:this._playerTracks}))}}},{key:"handleMediaError",value:function(e){return e.code===e.MEDIA_ERR_DECODE&&(t._logger.debug("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",e.message),this._handleMediaError())}},{key:"load",value:function(e){var t=this;return this._loadPromise||(this._startTime=e,this._loadPromise=new Promise(function(e){t._resolveLoad=e,t._loadInternal()})),this._loadPromise}},{key:"_loadInternal",value:function(){this._sourceObj&&this._sourceObj.url&&(this._hls.loadSource(this._sourceObj.url),this._hls.attachMedia(this._videoElement),this._trigger(f.EventType.ABR_MODE_CHANGED,{mode:this.isAdaptiveBitrateEnabled()?"auto":"manual"}))}},{key:"_reloadWithDirectManifest",value:function(){this._triedReloadWithRedirect=!0,this._reset(),this._config.hlsConfig.pLoader=v.default,this._hls=new d.default(this._config.hlsConfig),this._addBindings(),this._loadInternal()}},{key:"_removeRecoveredCallbackListener",value:function(){this._onRecoveredCallback&&(this._videoElement.removeEventListener(f.EventType.LOADED_METADATA,this._onRecoveredCallback),this._onRecoveredCallback=null)}},{key:"destroy",value:function(){var e=this;return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this).then(function(){t._logger.debug("destroy"),e._loadPromise=null,e._playerTracks=[],e._reset()})}},{key:"_reset",value:function(){this._removeBindings(),clearTimeout(this._resolveLoadTimeout),this._hls.detachMedia(),this._hls.destroy()}},{key:"_parseTracks",value:function(){var e=this._parseAudioTracks(this._hls.audioTracks||[]),t=this._parseVideoTracks(this._hls.levels||[]),r=this._parseTextTracks(this._hls.subtitleTracks||[]);return e.concat(t).concat(r)}},{key:"_parseAudioTracks",value:function(e){for(var t=[],r=0;r<e.length;r++){var a={id:e[r].id,active:this._hls.audioTrack===e[r].id,label:e[r].name,language:e[r].lang,index:r};t.push(new f.AudioTrack(a))}return t}},{key:"_parseVideoTracks",value:function(e){for(var t=[],r=0;r<e.length;r++){var a={active:this._hls.startLevel===r,bandwidth:e[r].bitrate,width:e[r].width,height:e[r].height,language:"",index:r};t.push(new f.VideoTrack(a))}return t}},{key:"_parseTextTracks",value:function(e){for(var t=[],r=0;r<e.length;r++){var a={id:e[r].id,active:e[r].default,label:e[r].name,kind:e[r].type.toLowerCase(),language:e[r].lang,index:r};t.push(new f.TextTrack(a))}return t}},{key:"_parseCEATextTrack",value:function(e){var t=null;if("captions"===e.kind){var r={id:e.id,active:"showing"===e.mode,label:e.label,kind:e.kind,language:e.language,index:this._playerTracks.filter(function(e){return e instanceof f.TextTrack}).length};t=new f.TextTrack(r)}return t}},{key:"selectAudioTrack",value:function(e){e instanceof f.AudioTrack&&!e.active&&this._hls.audioTracks&&(this._hls.audioTrack=e.id)}},{key:"selectVideoTrack",value:function(e){e instanceof f.VideoTrack&&(!e.active||this.isAdaptiveBitrateEnabled())&&this._hls.levels&&(this.isAdaptiveBitrateEnabled()&&this._trigger(f.EventType.ABR_MODE_CHANGED,{mode:"manual"}),this._hls.currentLevel=e.index)}},{key:"selectTextTrack",value:function(e){e instanceof f.TextTrack&&!e.active&&(this._hls.subtitleTracks.length?(this._hls.subtitleTrack=e.id,this._notifyTrackChanged(e)):this._selectNativeTextTrack(e))}},{key:"_selectNativeTextTrack",value:function(e){var t=Array.from(this._videoElement.textTracks).find(function(t){return t.language===e.language});t&&(this._disableNativeTextTracks(),t.mode=this._config.subtitleDisplay?"showing":"hidden",this._notifyTrackChanged(e))}},{key:"_notifyTrackChanged",value:function(e){t._logger.debug("Text track changed",e),this._onTrackChanged(e)}},{key:"_disableNativeTextTracks",value:function(){Array.from(this._videoElement.textTracks).forEach(function(e){e.mode="disabled"})}},{key:"hideTextTrack",value:function(){this._hls.subtitleTracks.length?this._hls.subtitleTrack=-1:this._disableNativeTextTracks()}},{key:"enableAdaptiveBitrate",value:function(){this.isAdaptiveBitrateEnabled()||(this._trigger(f.EventType.ABR_MODE_CHANGED,{mode:"auto"}),this._hls.nextLevel=-1)}},{key:"isAdaptiveBitrateEnabled",value:function(){return this._hls.autoLevelEnabled}},{key:"_getLevelDetails",value:function(){var e=this._hls.levels[this._hls.currentLevel]||this._hls.levels[this._hls.nextLevel]||this._hls.levels[this._hls.nextAutoLevel]||this._hls.levels[this._hls.nextLoadLevel];return e&&e.details?e.details:{}}},{key:"_getLiveEdge",value:function(){try{var e=void 0;return e=this._hls.liveSyncPosition?this._hls.liveSyncPosition:this._hls.config.liveSyncDuration?this._videoElement.duration-this._hls.config.liveSyncDuration:this._videoElement.duration-this._hls.config.liveSyncDurationCount*this._getLevelDetails().targetduration,e>0?e:this._videoElement.duration}catch(e){return t._logger.debug("Live edge calculation failed, fall back to duration"),this._videoElement.duration}}},{key:"seekToLiveEdge",value:function(){try{this._videoElement.currentTime=this._getLiveEdge()}catch(e){return}}},{key:"isLive",value:function(){try{return!!this._getLevelDetails().live}catch(e){return!1}}},{key:"_onManifestLoaded",value:function(){t._logger.debug("The source has been loaded successfully"),this._hls.config.autoStartLoad||this._hls.startLoad(this._startTime),this._playerTracks=this._parseTracks(),this._maybeHandleInitialTracksWorkaround()||this._resolveLoad({tracks:this._playerTracks})}},{key:"_maybeHandleInitialTracksWorkaround",value:function(){var e=this,t=this._hls.subtitleTracks.some(function(e){return e.default});if(this._hls.audioTracks.length>1||t){var r=0,a=function(){0==--r&&(e._maybeApplyAbrRestrictions(),e._resolveLoad({tracks:e._playerTracks}))};return t&&(r++,this._hls.once(d.default.Events.SUBTITLE_FRAG_PROCESSED,a)),this._hls.audioTracks.length>1&&(r++,this._hls.once(d.default.Events.AUDIO_TRACK_SWITCHING,a)),this._resolveLoadTimeout=setTimeout(function(){e._resolveLoad({tracks:e._playerTracks})},1e3),!0}return!1}},{key:"_maybeApplyAbrRestrictions",value:function(){if(this._config.abr.enabled){if(this._config.abr.restrictions){var e=this._config.abr.restrictions;if(e.maxBitrate){var r=e.minBitrate?e.minBitrate:0;if(e.maxBitrate>r){var a=this._hls.levels.findIndex(function(t){return t.bitrate>e.maxBitrate});a>0&&(a-=1),this._hls.autoLevelCapping=a}else t._logger.warn("Invalid maxBitrate restriction, maxBitrate must be greater than minBitrate",r,e.maxBitrate)}}}else this._hls.currentLevel=0}},{key:"_onLevelSwitched",value:function(e,r){var a=this._playerTracks.find(function(e){return e instanceof f.VideoTrack&&e.index===r.level});t._logger.debug("Video track changed",a),this._onTrackChanged(a)}},{key:"_onAudioTrackSwitched",value:function(e,r){var a=this._playerTracks.find(function(e){return e instanceof f.AudioTrack&&e.id===r.id});t._logger.debug("Audio track changed",a),this._onTrackChanged(a),this._handleWaitingUponAudioTrackSwitch()}},{key:"_handleWaitingUponAudioTrackSwitch",value:function(){var e=this;if(["IE","Edge"].includes(f.Env.browser.name)){var t=function t(){e._trigger(f.EventType.PLAYING),e._videoElement.removeEventListener(f.EventType.TIME_UPDATE,t)};this._videoElement.addEventListener(f.EventType.TIME_UPDATE,t)}}},{key:"_onError",value:function(e){var r=e.type,a=e.details;if(e.fatal){var i=void 0;switch(r){case d.default.ErrorTypes.NETWORK_ERROR:![d.default.ErrorDetails.MANIFEST_LOAD_ERROR,d.default.ErrorDetails.MANIFEST_LOAD_TIMEOUT].includes(a)||this._triedReloadWithRedirect||this._config.forceRedirectExternalStreams?i=new f.Error(f.Error.Severity.CRITICAL,f.Error.Category.NETWORK,f.Error.Code.HTTP_ERROR,a):this._reloadWithDirectManifest();break;case d.default.ErrorTypes.MEDIA_ERROR:i=this._handleMediaError()?new f.Error(f.Error.Severity.RECOVERABLE,f.Error.Category.MEDIA,f.Error.Code.HLS_FATAL_MEDIA_ERROR,a):new f.Error(f.Error.Severity.CRITICAL,f.Error.Category.MEDIA,f.Error.Code.HLS_FATAL_MEDIA_ERROR,a);break;default:i=new f.Error(f.Error.Severity.CRITICAL,f.Error.Category.PLAYER,f.Error.Code.HLS_FATAL_MEDIA_ERROR,a)}this._trigger(f.EventType.ERROR,i),i&&i.severity===f.Error.Severity.CRITICAL&&this.destroy()}else{var o=_.HlsJsErrorMap[a]||{category:0,code:0},n=o.category,s=o.code;t._logger.warn(new f.Error(f.Error.Severity.RECOVERABLE,n,s,a))}}},{key:"_handleMediaError",value:function(){var e=performance.now(),r=!0;return this._checkTimeDeltaHasPassed(e,this._recoverDecodingErrorDate,this._config.recoverDecodingErrorDelay)?(this._videoElement.addEventListener(f.EventType.LOADED_METADATA,this._onRecoveredCallback),this._recoverDecodingError()):this._checkTimeDeltaHasPassed(e,this._recoverSwapAudioCodecDate,this._config.recoverSwapAudioCodecDelay)?(this._videoElement.addEventListener(f.EventType.LOADED_METADATA,this._onRecoveredCallback),this._recoverSwapAudioCodec()):(r=!1,t._logger.error("cannot recover, last media error recovery failed")),r}},{key:"_onRecovered",value:function(){this._trigger(f.EventType.MEDIA_RECOVERED),this._videoElement.removeEventListener(f.EventType.LOADED_METADATA,this._onRecoveredCallback)}},{key:"_checkTimeDeltaHasPassed",value:function(e,t,r){return!t||e-t>r}},{key:"_recoverDecodingError",value:function(){this._recoverDecodingErrorDate=performance.now(),t._logger.warn("try to recover media Error"),this._hls.recoverMediaError()}},{key:"_recoverSwapAudioCodec",value:function(){this._recoverSwapAudioCodecDate=performance.now(),t._logger.warn("try to swap Audio Codec and recover media Error"),this._hls.swapAudioCodec(),this._hls.recoverMediaError()}},{key:"_removeBindings",value:function(){this._hls.off(d.default.Events.ERROR,this._onError),this._hls.off(d.default.Events.LEVEL_SWITCHED,this._onLevelSwitched),this._hls.off(d.default.Events.AUDIO_TRACK_SWITCHED,this._onAudioTrackSwitched),this._hls.off(d.default.Events.MANIFEST_LOADED,this._onManifestLoaded),this._hls.off(d.default.Events.FPS_DROP,this._onFpsDrop),this._videoElement.textTracks.onaddtrack=null,this._videoElement.removeEventListener("addtrack",this._onAddTrack),this._removeRecoveredCallbackListener()}},{key:"getStartTimeOfDvrWindow",value:function(){if(!this.isLive())return 0;try{var e=this._hls.levels[this._hls.nextLoadLevel],r=e.details,a=r.fragments,i=a.length,o=a[0].start+a[0].duration,n=a[i-1].start+a[i-1].duration,s=void 0!==this._hls.config.liveMaxLatencyDuration?this._hls.config.liveMaxLatencyDuration:this._hls.config.liveMaxLatencyDurationCount*r.targetduration;return Math.max(o-this._hls.config.maxFragLookUpTolerance,n-s)}catch(e){return t._logger.debug("Unable obtain the start of DVR window"),0}}}]),t}(f.BaseMediaSourceAdapter);p.id="HlsAdapter",p._logger=f.BaseMediaSourceAdapter.getLogger(p.id),p._hlsMimeTypes=["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],t.default=p},function(e,t){e.exports={recoverDecodingErrorDelay:3e3,recoverSwapAudioCodecDelay:3e3,abr:{enabled:!0,restrictions:{}},hlsConfig:{fragLoadingMaxRetry:4,maxMaxBufferLength:60}}},function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.HlsJsErrorMap=void 0;var i,o=r(1),n=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r(0),l=(i={},a(i,n.default.ErrorDetails.MANIFEST_LOAD_ERROR,{category:s.Error.Category.MANIFEST,code:s.Error.Code.HTTP_ERROR}),a(i,n.default.ErrorDetails.MANIFEST_LOAD_TIMEOUT,{category:s.Error.Category.MANIFEST,code:s.Error.Code.TIMEOUT}),a(i,n.default.ErrorDetails.MANIFEST_PARSING_ERROR,{category:s.Error.Category.MANIFEST,code:s.Error.Code.HLSJS_CANNOT_PARSE}),a(i,n.default.ErrorDetails.LEVEL_LOAD_ERROR,{category:s.Error.Category.NETWORK,code:s.Error.Code.HTTP_ERROR}),a(i,n.default.ErrorDetails.LEVEL_LOAD_TIMEOUT,{category:s.Error.Category.NETWORK,code:s.Error.Code.TIMEOUT}),a(i,n.default.ErrorDetails.LEVEL_SWITCH_ERROR,{category:s.Error.Category.PLAYER,code:s.Error.Code.BITRATE_SWITCH_ISSUE}),a(i,n.default.ErrorDetails.FRAG_LOAD_ERROR,{category:s.Error.Category.NETWORK,code:s.Error.Code.HTTP_ERROR}),a(i,n.default.ErrorDetails.FRAG_LOOP_LOADING_ERROR,{category:s.Error.Category.NETWORK,code:s.Error.Code.HTTP_ERROR}),a(i,n.default.ErrorDetails.FRAG_LOAD_TIMEOUT,{category:s.Error.Category.NETWORK,code:s.Error.Code.TIMEOUT}),a(i,n.default.ErrorDetails.FRAG_PARSING_ERROR,{category:s.Error.Category.MEDIA,code:s.Error.Code.HLS_FRAG_PARSING_ERROR}),a(i,n.default.ErrorDetails.BUFFER_APPEND_ERROR,{category:s.Error.Category.MEDIA,code:s.Error.Code.HLS_BUFFER_APPEND_ISSUE}),a(i,n.default.ErrorDetails.BUFFER_APPENDING_ERROR,{category:s.Error.Category.MEDIA,code:s.Error.Code.HLS_BUFFER_APPENDING_ISSUE}),a(i,n.default.ErrorDetails.BUFFER_STALLED_ERROR,{category:s.Error.Category.MEDIA,code:s.Error.Code.HLS_BUFFER_STALLED_ERROR}),i);t.HlsJsErrorMap=l},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),s=r(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=r.load.bind(r),s=t.redirectExternalStreamsHandler;return r.load=function(e,r,a){var i=e.url;"manifest"===e.type?n.Utils.Http.jsonp(i,s,{timeout:t.redirectExternalStreamsTimeout}).then(function(t){e.url=t,o(e,r,a)}).catch(function(){return o(e,r,a)}):o(e,r,a)},r}return o(t,e),t}(l.default.DefaultConfig.loader);c.redirectExternalStreamsHandler=function(e){return e},t.default=c}])});
//# sourceMappingURL=playkit-hls.js.map